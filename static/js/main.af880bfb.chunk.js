(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1046:function(e,t,a){},1047:function(e,t,a){},1048:function(e,t,a){},1160:function(e,t,a){},1161:function(e,t,a){},1163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(176),s=a.n(c),o=(a(532),a(4)),l=a.n(o),i=a(12),u=a(13),d=a(14),m=a(16),f=a(15),p=a(17),b=a(21),v=a(3),h=a.n(v),k=a(313),g=a.n(k),E=Object({NODE_ENV:"production",PUBLIC_URL:"/Final-Year-Project",REACT_APP_API_URL:"http://localhost:3001",REACT_APP_WS_URL:"ws://localhost:3002",REACT_APP_NODE_URL:"http://localhost:8545",REACT_APP_HYDRO_PROXY_ADDRESS:"0x04f67E8b7C39A25e100847Cb167460D715215FEb",REACT_APP_HYDRO_TOKEN_ADDRESS:"0x4C4Fa7E8EA4cFCfC93DEAE2c0Cff142a1DD3a218",REACT_APP_WETH_TOKEN_ADDRESS:"0x4a817489643A89a1428b2DD441c3fbe4DBf44789",REACT_APP_NETWORK_ID:"66"});E.REACT_APP_API_URL||(E=window._env);var y={API_ADDRESS:E.REACT_APP_API_URL,WS_ADDRESS:E.REACT_APP_WS_URL,NODE_URL:E.REACT_APP_NODE_URL,HYDRO_PROXY_ADDRESS:E.REACT_APP_HYDRO_PROXY_ADDRESS,HYDRO_TOKEN_ADDRESS:E.REACT_APP_HYDRO_TOKEN_ADDRESS,WETH_TOKEN_ADDRESS:E.REACT_APP_WETH_TOKEN_ADDRESS,NETWORK_ID:E.REACT_APP_NETWORK_ID},O=function(e,t){window.localStorage.setItem("loginData-".concat(e),JSON.stringify({address:e,hydroAuthentication:t}))},w=function(e){window.localStorage.removeItem("loginData-".concat(e))},x=function(e){var t,a=window.localStorage.getItem("loginData-".concat(e));if(!a)return null;try{t=JSON.parse(a)}catch(n){return w(e),null}return t.address&&t.address.toLowerCase()===e.toLowerCase()?t.hydroAuthentication:null},N=a(55),A=[{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],T=a(19),D=function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(T.getContract)(t,A),e.next=3,n.balanceOf(a);case 3:return r=e.sent,e.abrupt("return",new h.a(r));case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(T.getContract)(t,A),e.next=3,n.allowance(a,y.HYDRO_PROXY_ADDRESS);case 3:return r=e.sent,e.abrupt("return",new h.a(r));case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),I=function(e,t,a,n,r){return function(){var c=Object(i.a)(l.a.mark(function c(s,o){var u,d,m,f,p,b;return l.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=o(),d="095ea7b3",64===(m=R(y.HYDRO_PROXY_ADDRESS)).length){c.next=5;break}return c.abrupt("return",null);case 5:return f={to:e,data:"0x".concat(d).concat(m).concat(a),value:0},c.prev=6,p=Object(T.getSelectedAccountWallet)(u),c.next=10,p.sendTransaction(f);case 10:return b=c.sent,alert("".concat(n," ").concat(t," request submitted")),S(b,function(){var a=Object(i.a)(l.a.mark(function a(c){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:c?(s(L(e,t,r)),alert("".concat(n," ").concat(t," Successfully"))):alert("".concat(n," ").concat(t," Failed"));case 1:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()),c.abrupt("return",b);case 16:c.prev=16,c.t0=c.catch(6),alert(c.t0);case 19:return c.abrupt("return",null);case 20:case"end":return c.stop()}},c,null,[[6,16]])}));return function(e,t){return c.apply(this,arguments)}}()},S=function(e,t){var a=function(){var n=Object(i.a)(l.a.mark(function n(){var r;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(T.getTransactionReceipt)(e);case 2:(r=n.sent)?t?t(1===Number(r.status)):alert("success"):window.setTimeout(function(){return a(e)},3e3);case 4:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();window.setTimeout(function(){return a(e)},3e3)},R=function(e){for(e=e.replace("0x","");e.length<64;)e="0".concat(e);return e},_=function(){return function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n,r,c,s,o,i,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n="HYDRO-AUTHENTICATION",r=a(),c=Object(T.getSelectedAccount)(r),s=c?c.get("address"):null,o=Object(T.getSelectedAccountWallet)(r)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,o.signPersonalMessage(n);case 9:if(i=e.sent){e.next=12;break}return e.abrupt("return");case 12:return O(s,u=s+"#"+n+"#"+i),e.abrupt("return",t(M(s,u)));case 15:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},M=function(e){return function(t,a){t(C()),t({type:"LOGIN",payload:{address:e}})}},C=function(){return function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n,r,c,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a(),r=Object(T.getSelectedAccount)(n),r?r.get("address"):null){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Y.get("/account/lockedBalances");case 7:c=e.sent,s={},0===c.data.status&&(c.data.data.lockedBalances.forEach(function(e){s[e.symbol]=e.lockedBalance}),t(P(s)));case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},P=function(e){return function(t,a){var n=Object(T.getSelectedAccount)(a()),r=n?n.get("address"):null;if(r)return Object.keys(e).forEach(function(t,a){e[t]=new h.a(e[t])}),t({type:"UPDATE_TOKEN_LOCKED_BALANCES",payload:{lockedBalances:e,accountAddress:r}})}},F=function(){return function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n,r,c,s,o,i,u,d,m;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a(),r=Object(T.getSelectedAccount)(n),r?r.get("address"):null){e.next=5;break}return e.abrupt("return");case 5:c=n.market.getIn(["markets","data"]).toArray(),s={},o=[],i=0;case 9:if(!(i<c.length)){e.next=18;break}if(u=c[i],!s[u.quoteToken]){e.next=13;break}return e.abrupt("continue",15);case 13:s[u.quoteToken]=!0,o.push(t(W(u.quoteTokenAddress,u.quoteToken,u.quoteTokenDecimals)));case 15:i++,e.next=9;break;case 18:d=0;case 19:if(!(d<c.length)){e.next=28;break}if(m=c[d],!s[m.baseToken]){e.next=23;break}return e.abrupt("continue",25);case 23:s[m.baseToken]=!0,o.push(t(W(m.baseTokenAddress,m.baseToken,m.baseTokenDecimals)));case 25:d++,e.next=19;break;case 28:return e.next=30,Promise.all(o);case 30:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},L=function(e,t,a){return function(n){for(var r=0;r<10;r++)setTimeout(function(){return n(W(e,t,a))},3e3*r)}},W=function(e,t,a){return function(){var n=Object(i.a)(l.a.mark(function n(r,c){var s,o,i,u,d,m,f;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(s=c(),o=Object(T.getSelectedAccount)(s),i=o?o.get("address"):null){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,Promise.all([D(e,i),j(e,i)]);case 7:return u=n.sent,d=Object(N.a)(u,2),m=d[0],f=d[1],n.abrupt("return",r({type:"UPDATE_TOKEN_INFO",payload:{tokenAddress:e,accountAddress:i,symbol:t,balance:m,allowance:f,decimals:a}}));case 12:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},B=function(){return function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n,r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().market.getIn(["markets","currentMarket"]),e.next=3,Y.get("/orders?marketID=".concat(n.id));case 3:if(0!==(r=e.sent).data.status){e.next=9;break}return c=r.data.data,e.abrupt("return",t({type:"LOAD_ORDERS",payload:{orders:c?c.orders.map(q):[]}}));case 9:alert(r.data.desc);case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},U=function(){return function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n,r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().market.getIn(["markets","currentMarket"]),e.next=3,Y.get("/markets/".concat(n.id,"/trades/mine"));case 3:if(0!==(r=e.sent).data.status){e.next=9;break}return c=r.data.data,e.abrupt("return",t({type:"LOAD_TRADES",payload:{trades:c?c.trades:[]}}));case 9:alert(r.data.desc);case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},H=function(e){return{type:"ORDER_UPDATE",payload:{order:q(e)}}},q=function(e){return{id:e.id,marketID:e.marketID,side:e.side,status:e.status,gasFeeAmount:new h.a(e.gasFeeAmount||0),makerFeeRate:new h.a(e.makerFeeRate||0),takerFeeRate:new h.a(e.takerFeeRate||0),price:new h.a(e.price),availableAmount:new h.a(e.availableAmount),canceledAmount:new h.a(e.canceledAmount),confirmedAmount:new h.a(e.confirmedAmount),pendingAmount:new h.a(e.pendingAmount),createdAt:e.createdAt,json:e.json,amount:new h.a(e.amount)}},K=function(e,t){for(var a,n=arguments.length,r=new Array(n>2?n-2:0),c=2;c<n;c++)r[c-2]=arguments[c];return(a=function(){var e,t=ut.getState(),a=Object(T.getSelectedAccount)(t),n=a?a.get("address"):null,r=x(n);return(e=r?g.a.create({headers:{"Hydro-Authentication":r}}):g.a).interceptors.response.use(function(e){return e.data&&-11===e.data.status&&n&&(ut.dispatch(function(e){return function(t){t({type:"LOGOUT",payload:{address:e}})}}(n)),w(n)),e}),e}())[e].apply(a,["".concat(y.API_ADDRESS).concat(t)].concat(r))},Y={get:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return K.apply(void 0,["get",e].concat(a))},delete:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return K.apply(void 0,["delete",e].concat(a))},head:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return K.apply(void 0,["head",e].concat(a))},post:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return K.apply(void 0,["post",e].concat(a))},put:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return K.apply(void 0,["put",e].concat(a))},patch:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return K.apply(void 0,["patch",e].concat(a))}},X=function(e){return function(){var t=Object(i.a)(l.a.mark(function t(a,n){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.get("/markets/".concat(e,"/trades"));case 2:if(r=t.sent,n().market.getIn(["markets","currentMarket"]).id!==e){t.next=6;break}return t.abrupt("return",a({type:"LOAD_TRADE_HISTORY",payload:r.data.data.trades}));case 6:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()},J=function(e){e.gasFeeAmount=new h.a(e.gasFeeAmount),e.asMakerFeeRate=new h.a(e.asMakerFeeRate),e.asTakerFeeRate=new h.a(e.asTakerFeeRate),e.marketOrderMaxSlippage=new h.a(e.marketOrderMaxSlippage)},G=(a(946),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.address,a=e.dispatch;x(t)&&a(M(t))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.address,n=t.dispatch,r=x(a);a!==e.address&&r&&n(M(a))}},{key:"render",value:function(){var e=this.props,t=e.currentMarket,a=e.markets,n=e.dispatch;return r.a.createElement("div",{className:"navbar bg-blue navbar-expand-lg"},r.a.createElement("strong",null,"Kigali Crypto Trading"),r.a.createElement("div",{className:"dropdown navbar-nav mr-auto"},r.a.createElement("button",{className:"btn btn-primary header-dropdown dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t&&t.id),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",style:{maxHeight:350,overflow:"auto"}},a.map(function(e){return r.a.createElement("button",{className:"dropdown-item",key:e.id,onClick:function(){return t.id!==e.id&&n(function(e){return function(){var t=Object(i.a)(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a({type:"UPDATE_CURRENT_MARKET",payload:{currentMarket:e}}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(e))}},e.id)}))),r.a.createElement("button",{className:"btn btn-primary collapse-toggle",type:"button","data-toggle":"collapse","data-target":"#navbar-collapse","aria-expanded":"false"},r.a.createElement("i",{className:"fa fa-bars"})),r.a.createElement("div",{className:"collapse",id:"navbar-collapse"},r.a.createElement("a",{href:"https://hydroprotocol.io/developers/docs/overview/what-is-hydro.html",className:"btn btn-primary item",target:"_blank",rel:"noopener noreferrer"},"DOCUMENTATION"),r.a.createElement("div",{className:"item"},r.a.createElement(T.WalletButton,null)),this.renderAccount()))}},{key:"renderAccount",value:function(){var e=this.props,t=e.address,a=e.dispatch,n=e.isLoggedIn,c=e.isLocked;return n&&t||c?null:t?r.a.createElement("button",{className:"btn btn-success",style:{marginLeft:12},onClick:function(){return a(_())}},"connect"):null}}]),t}(r.a.PureComponent)),V=Object(b.connect)(function(e){var t=Object(T.getSelectedAccount)(e),a=t?t.get("address"):null;return{address:a,isLocked:!t||t.get("isLocked"),isLoggedIn:e.account.getIn(["isLoggedIn",a]),currentMarket:e.market.getIn(["markets","currentMarket"]),markets:e.market.getIn(["markets","data"])}})(G),Q=a(493),z=function(e,t){return function(){var a=Object(i.a)(l.a.mark(function a(n){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"INIT_ORDERBOOK",payload:{bids:e,asks:t}});case 1:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},$=function(e,t,a){return function(n){return n({type:"UPDATE_ORDERBOOK",payload:{side:e,price:t,amount:a}})}},Z=function(e){return{type:"SET_CONFIGS",payload:e}},ee=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"limit",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:31536e6;return function(){var c=Object(i.a)(l.a.mark(function c(s,o){var i;return l.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,s(te(e,t,a,n,r));case 3:if(0!==(i=c.sent).status){c.next=9;break}return alert("Successfully created order"),c.abrupt("return",!0);case 9:alert(i.desc);case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),alert(c.t0);case 15:return c.abrupt("return",!1);case 16:case"end":return c.stop()}},c,null,[[0,12]])}));return function(e,t){return c.apply(this,arguments)}}()},te=function(e,t,a,n,r){return function(){var c=Object(i.a)(l.a.mark(function c(s,o){var i,u,d,m,f,p,b,v,h;return l.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=o(),u=i.market.getIn(["markets","currentMarket"]),c.next=4,Y.post("/orders/build",{amount:a,price:t,side:e,expires:r,orderType:n,marketID:u.id});case 4:if(0===(d=c.sent).data.status){c.next=7;break}return c.abrupt("return",d.data);case 7:return m=d.data.data.order,f=m.id,c.prev=9,p=Object(T.getSelectedAccountWallet)(i),c.next=13,p.signPersonalMessage(f);case 13:return b=c.sent,v="0x"+b.slice(130)+"0".repeat(62)+b.slice(2,130),c.next=17,Y.post("/orders",{orderID:f,signature:v,method:0});case 17:return h=c.sent,c.abrupt("return",h.data);case 21:c.prev=21,c.t0=c.catch(9),alert(c.t0);case 24:case"end":return c.stop()}},c,null,[[9,21]])}));return function(e,t){return c.apply(this,arguments)}}()},ae=function(e){return{type:"TRADE_UPDATE",payload:{trade:e}}},ne=function(e){return{type:"MARKET_TRADE",payload:{trade:e}}},re=function(e){return new Promise(function(t){return setTimeout(t,e)})},ce=function(e,t){return new h.a(e).div(Math.pow(10,t))},se=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).sendMessage=function(e){a.socket&&1===a.socket.readyState?a.socket.send(e):a.preEvents.push(e)},a.changeMarket=function(e){if(a.lastSubscribedChannel){var t=JSON.stringify({type:"unsubscribe",channels:["Market#"+e]});a.sendMessage(t)}a.lastSubscribedChannel=e;var n=JSON.stringify({type:"subscribe",channels:["Market#"+e]});a.sendMessage(n)},a.logoutLastAccount=function(){var e=a.props.address;if(a.lastAccountAddress){var t=JSON.stringify({type:"unsubscribe",channels:["TraderAddress#"+e]});a.sendMessage(t),a.lastAccountAddress=null}},a.changeAccount=function(){a.logoutLastAccount();var e=a.props.address;if(e&&x(e)){a.lastAccountAddress=e;var t=JSON.stringify({type:"subscribe",channels:["TraderAddress#"+e]});a.sendMessage(t)}},a.disconnectWebsocket=function(){a.socket&&a.socket.close()},a.connectWebsocket=function(){var e=a.props.dispatch;a.socket=new window.ReconnectingWebSocket("".concat(y.WS_ADDRESS)),a.socket.debug=!1,a.socket.timeoutInterval=5400,a.socket.onopen=function(){var t=Object(i.a)(l.a.mark(function t(n){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e(Z({websocketConnected:!0})),a.changeAccount(),a.lastSubscribedChannel&&a.changeMarket(a.lastSubscribedChannel);case 3:if(1===a.socket.readyState){t.next=8;break}return t.next=6,re(30);case 6:t.next=3;break;case 8:for(;a.preEvents.length>0;)a.socket.send(a.preEvents.shift());case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.socket.onclose=function(t){e(Z({websocketConnected:!1}))},a.socket.onerror=function(e){console.log("wsError",e)},a.socket.onmessage=function(t){var n=JSON.parse(t.data),r=a.props,c=r.currentMarket,s=r.address;switch(n.type){case"level2OrderbookSnapshot":if(n.marketID!==c.id)break;var o=n.bids.map(function(e){return[new h.a(e[0]),new h.a(e[1])]}),l=n.asks.map(function(e){return[new h.a(e[0]),new h.a(e[1])]});e(z(o,l));break;case"level2OrderbookUpdate":if(n.marketID!==c.id)break;e($(n.side,new h.a(n.price),new h.a(n.amount)));break;case"orderChange":n.order.marketID===c.id&&e(H(n.order));break;case"lockedBalanceChange":e(P(Object(Q.a)({},n.symbol,n.balance)));break;case"tradeChange":n.trade.marketID===c.id&&e(ae(n.trade));break;case"newMarketTrade":if(n.trade.marketID!==c.id)break;e(ne(n.trade)),s&&(e(L(c.baseTokenAddress,c.baseToken,c.baseTokenDecimals)),e(L(c.quoteTokenAddress,c.quoteToken,c.quoteTokenDecimals)))}}},a.preEvents=[],a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentMarket,a=e.address,n=e.isLoggedIn;this.connectWebsocket(),t&&this.changeMarket(t.id),a&&n&&this.changeAccount()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.address,n=t.currentMarket,r=t.isLoggedIn,c=n!==e.currentMarket,s=r!==e.isLoggedIn,o=a!==e.address;if(c){var l=this.props.currentMarket;this.changeMarket(l.id)}(s||o)&&(a&&r?this.changeAccount():this.logoutLastAccount())}},{key:"componentWillUnmount",value:function(){this.logoutLastAccount(),this.disconnectWebsocket()}},{key:"render",value:function(){return null}}]),t}(r.a.PureComponent),oe=Object(b.connect)(function(e){var t=Object(T.getSelectedAccount)(e),a=t?t.get("address"):null;return{address:a,currentMarket:e.market.getIn(["markets","currentMarket"]),isLoggedIn:e.account.getIn(["isLoggedIn",a]),markets:e.market.getIn(["markets","data"])}})(se),le=(a(947),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).lastUpdatedAt=null,a.forceRenderTimer=null,a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(){var e=this;if(this.lastUpdatedAt){var t=(new Date).valueOf()-this.lastUpdatedAt,a=t>1e3;return a||this.forceRenderTimer||(this.forceRenderTimer=setTimeout(function(){e.forceUpdate(),e.forceRenderTimer=null},1e3-t)),a}return!0}},{key:"componentWillUnmount",value:function(){this.forceRenderTimer&&clearInterval(this.forceRenderTimer)}},{key:"componentDidUpdate",value:function(){this.lastUpdatedAt=new Date}},{key:"render",value:function(){var e=this.props,t=e.bids,a=e.asks,n=e.websocketConnected,c=e.currentMarket;return r.a.createElement("div",{className:"orderbook flex-column flex-1"},r.a.createElement("div",{className:"flex header text-secondary"},r.a.createElement("div",{className:"col-6 text-right"},"Amount"),r.a.createElement("div",{className:"col-6 text-right"},"Price")),r.a.createElement("div",{className:"flex-column flex-1"},r.a.createElement("div",{className:"asks flex-column flex-column-reverse flex-1 overflow-hidden"},a.slice(-20).reverse().toArray().map(function(e){var t=Object(N.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{className:"ask flex align-items-center",key:a.toString()},r.a.createElement("div",{className:"col-6 orderbook-amount text-right"},n.toFixed(c.amountDecimals)),r.a.createElement("div",{className:"col-6 text-danger text-right"},a.toFixed(c.priceDecimals)))})),r.a.createElement("div",{className:"status border-top border-bottom"},n?r.a.createElement("div",{className:"col-6 text-success"},r.a.createElement("i",{className:"fa fa-circle","aria-hidden":"true"})," RealTime"):r.a.createElement("div",{className:"col-6 text-danger"},r.a.createElement("i",{className:"fa fa-circle","aria-hidden":"true"})," Disconnected")),r.a.createElement("div",{className:"bids flex-column flex-1 overflow-hidden"},t.slice(0,20).toArray().map(function(e){var t=Object(N.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{className:"bid flex align-items-center",key:a.toString()},r.a.createElement("div",{className:"col-6 orderbook-amount text-right"},n.toFixed(c.amountDecimals)),r.a.createElement("div",{className:"col-6 text-success text-right"},a.toFixed(c.priceDecimals)))}))))}}]),t}(r.a.Component)),ie=Object(b.connect)(function(e){return{asks:e.market.getIn(["orderbook","asks"]),bids:e.market.getIn(["orderbook","bids"]),loading:!1,currentMarket:e.market.getIn(["markets","currentMarket"]),websocketConnected:e.config.get("websocketConnected"),theme:e.config.get("theme")}})(le),ue=a(499),de=a(491),me=a(487),fe=a(226),pe=a(488),be=[],ve=function(){var e=Object(i.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:be=[[5e3,1],[2e4,.9],[1e5,.8],[5e5,.7],[2e6,.6],[-1,.5]];case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function he(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return ke(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ke(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,o=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,c=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw c}}}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ge=function(e){e=e.div(Math.pow(10,18));var t,a=he(be);try{for(a.s();!(t=a.n()).done;){var n=t.value,r=new h.a(n[0]),c=new h.a(n[1]);if(r.eq(-1))return c;if(e.lte(r))return c}}catch(s){a.e(s)}finally{a.f()}return new h.a(1)},Ee=a(54),ye=(a(948),a(25)),Oe={getTokensInfo:function(e,t){return e.account.getIn(["tokensInfo",t],Object(ye.b)())},getTokenInfo:function(e,t,a){return e.account.getIn(["tokensInfo",t,a],Object(ye.b)())},getTokenBalance:function(e,t,a){return e.account.getIn(["tokensInfo",t,a,"balance"],new h.a("0"))},getTokenLockedBalance:function(e,t,a){return e.account.getIn(["tokensInfo",t,a,"lockedBalance"],new h.a("0"))},getTokenAvailableBalance:function(e,t,a){var n=Oe.getTokenBalance(e,t,a),r=Oe.getTokenLockedBalance(e,t,a);return n.minus(r)}},we=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).renderField=function(e){var t=e.input,a=e.label,n=e.unit,c=e.meta,s=Object(ue.a)(e,["input","label","unit","meta"]),o=c.submitFailed,l=c.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,a),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",Object.assign({className:"form-control"},t,s)),r.a.createElement("span",{className:"text-secondary unit"},n)),r.a.createElement("span",{className:"text-danger"},o&&l&&r.a.createElement("span",null,l)))},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;ve(),this.interval=window.setInterval(function(){e(function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n,r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.HYDRO_TOKEN_ADDRESS){e.next=3;break}return e.abrupt("return");case 3:if(r=a().account.get("address")){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,D(n,r);case 8:c=e.sent,t(Z({hotTokenAmount:c}));case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},3e4)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.currentMarket,n=t.reset,r=t.lastPrice,c=t.price,s=t.change;a.id===e.currentMarket.id?(!r.eq(e.lastPrice)&&c.eq(0)&&s("price",r),this.updateFees(e)):n()}},{key:"render",value:function(){var e=this,t=this.props,a=t.side,n=t.handleSubmit,c=t.currentMarket,s=t.total,o=t.gasFee,l=t.tradeFee,i=t.subtotal,u=t.change;return c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title"},r.a.createElement("div",null,r.a.createElement("div",null,c.id),r.a.createElement("div",{className:"text-secondary"},"Make a Limit Order"))),r.a.createElement("div",{className:"trade flex-1 flex-column"},r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item flex-1 flex"},r.a.createElement("div",{className:"flex-1 tab-button text-secondary text-center".concat("buy"===a?" active":""),onClick:function(){return u("side","buy")}},"Buy")),r.a.createElement("li",{className:"nav-item flex-1 flex"},r.a.createElement("div",{className:"flex-1 tab-button text-secondary text-center".concat("sell"===a?" active":""),onClick:function(){return u("side","sell")}},"Sell"))),r.a.createElement("div",{className:"flex flex-1 position-relative overflow-hidden",ref:function(t){return e.setRef(t)}},r.a.createElement("form",{className:"form flex-column text-secondary flex-1 justify-content-between",onSubmit:n(function(){return e.submit()})},r.a.createElement("div",null,r.a.createElement(me.a,{name:"price",unit:c.quoteToken,autoComplete:"off",component:this.renderField,label:"Price"}),r.a.createElement(me.a,{name:"amount",unit:c.baseToken,autoComplete:"off",component:this.renderField,label:"Amount"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-title"},"Order Summary"),r.a.createElement("div",{className:"list"},r.a.createElement("div",{className:"item flex justify-content-between"},r.a.createElement("div",{className:"name"},"Order"),r.a.createElement("div",{className:"name"},i.toFixed(c.priceDecimals))),r.a.createElement("div",{className:"item flex justify-content-between"},r.a.createElement("div",{className:"name"},"Fees"),r.a.createElement("div",{className:"name"},o.plus(l).toFixed(c.priceDecimals))),r.a.createElement("div",{className:"item flex justify-content-between"},r.a.createElement("div",{className:"name"},"Total"),r.a.createElement("div",{className:"name"},s.toFixed(c.priceDecimals)))))),r.a.createElement("button",{type:"submit",className:"form-control btn ".concat("buy"===a?"btn-success":"btn-danger")},a," ",c.baseToken))))):null}},{key:"submit",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t,a,n,r,c,s,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.amount,n=t.price,r=t.side,c=t.orderType,s=t.dispatch,o=t.isLoggedIn,t.address,o){e.next=6;break}return e.next=4,s(_());case 4:return e.next=6,re(500);case 6:return e.prev=6,e.next=9,s(ee(r,n,a,c));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0);case 14:case"end":return e.stop()}},e,this,[[6,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"updateFees",value:function(e){var t=this.props,a=t.currentMarket,n=t.orderType,r=t.side,c=t.price,s=t.amount,o=t.hotTokenAmount,l=t.change;if(!(n===e.orderType&&r===e.side&&c.eq(e.price)&&s.eq(e.amount)&&o.eq(e.hotTokenAmount))){var i=a.asMakerFeeRate,u=a.asTakerFeeRate,d=a.gasFeeAmount,m=a.priceDecimals,f=a.amountDecimals,p=function(e){var t,a,n,r=e.orderType,c=e.side,s=e.price,o=e.amount,l=e.hotTokenAmount,i=e.gasFeeAmount,u=e.asMakerFeeRate,d=e.asTakerFeeRate,m=e.amountDecimals,f=e.priceDecimals,p="limit"===r,b=ge(l),v="market"===r?d:u;"market"===r&&"buy"===c?(a=o,n=o.div(s).dp(m,h.a.ROUND_DOWN)):(a=o.multipliedBy(s).dp(f,h.a.ROUND_DOWN),n=o);var k,g="market"===r?s:new h.a(0),E=(t=a.multipliedBy(v)).multipliedBy(b),y=v.multipliedBy(b);return k="buy"===c?a.plus(E).plus(i).dp(f,h.a.ROUND_UP):a.minus(E).minus(i).dp(f,h.a.ROUND_UP),{estimatedPrice:g,gasFeeAmount:i,hotDiscount:b,totalBaseTokens:n,tradeFeeAfterDiscount:E,feeRateAfterDiscount:y,tradeFee:t,feeRate:v,isMakerFee:p,subtotal:a,totalQuoteTokens:k=h.a.max(k,new h.a("0"))}}({orderType:n,side:r,price:new h.a(c),amount:new h.a(s),hotTokenAmount:o,gasFeeAmount:d,asMakerFeeRate:i,asTakerFeeRate:u,amountDecimals:f,priceDecimals:m});l("subtotal",p.subtotal),l("estimatedPrice",p.estimatedPrice),l("totalBase",p.totalBaseTokens),l("total",p.totalQuoteTokens),l("feeRate",p.feeRateAfterDiscount),l("gasFee",p.gasFeeAmount),l("hotDiscount",p.hotDiscount),l("tradeFee",p.tradeFeeAfterDiscount)}}},{key:"setRef",value:function(e){e&&(this.ps=new Ee.default(e,{suppressScrollX:!0,maxScrollbarLength:20}))}}]),t}(r.a.PureComponent),xe=Object(b.connect)(function(e){var t=Object(de.a)("TRADE"),a=e.market.getIn(["orderbook","bids"]),n=e.market.getIn(["orderbook","asks"]),r=Object(T.getSelectedAccount)(e),c=r?r.get("address"):null,s=e.market.getIn(["markets","currentMarket"]),o=e.market.get("tradeHistory").first(),l=o?new h.a(o.price):new h.a("0");return{initialValues:{side:"buy",orderType:"limit",subtotal:new h.a(0),total:new h.a(0),totalBase:new h.a(0),feeRate:new h.a(0),gasFee:new h.a(0),hotDiscount:new h.a(1),tradeFee:new h.a(0),estimatedPrice:new h.a(0),marketOrderWorstPrice:new h.a(0),marketOrderWorstTotalQuote:new h.a(0),marketOrderWorstTotalBase:new h.a(0)},lastPrice:l,currentMarket:s,quoteTokenBalance:Oe.getTokenAvailableBalance(e,c,s.quoteToken),baseTokenBalance:Oe.getTokenAvailableBalance(e,c,s.baseToken),hotTokenAmount:e.config.get("hotTokenAmount"),address:c,isLoggedIn:e.account.getIn(["isLoggedIn",c]),price:new h.a(t(e,"price")||0),amount:new h.a(t(e,"amount")||0),total:new h.a(t(e,"total")||0),totalBase:new h.a(t(e,"totalBase")||0),subtotal:new h.a(t(e,"subtotal")||0),feeRate:new h.a(t(e,"feeRate")||0),gasFee:new h.a(t(e,"gasFee")||0),estimatedPrice:new h.a(t(e,"estimatedPrice")||0),marketOrderWorstPrice:new h.a(t(e,"marketOrderWorstPrice")||0),marketOrderWorstTotalQuote:new h.a(t(e,"marketOrderWorstTotalQuote")||0),marketOrderWorstTotalBase:new h.a(t(e,"marketOrderWorstTotalBase")||0),hotDiscount:new h.a(t(e,"hotDiscount")||1),tradeFee:new h.a(t(e,"tradeFee")||0),side:t(e,"side"),orderType:t(e,"orderType"),bestBidPrice:a.size>0?a.get(0)[0].toString():null,bestAskPrice:n.size>0?n.get(n.size-1)[0].toString():null}})(Object(pe.a)({form:"TRADE",destroyOnUnmount:!1,onSubmitFail:function(e,t){setTimeout(function(){t(Object(fe.a)("TRADE"))},3e3)},validate:function(e,t){var a,n,r,c=e.price,s=e.amount,o=e.total,l=t.side,i=t.address,u=t.currentMarket,d=t.quoteTokenBalance,m=t.baseTokenBalance,f={};i&&("buy"===l?ce(d,u.quoteTokenDecimals).eq(0)&&(f.amount="Insufficient ".concat(u.quoteToken," balance")):ce(m,u.baseTokenDecimals).eq(0)&&(f.amount="Insufficient ".concat(u.baseToken," balance")));if(f.price||(c?isNaN(Number(c))?f.price="Price must be a number":(a=new h.a(c)).lte("0")&&(f.price="Price cannot be 0"):f.price="Price required"),f.amount||(s?isNaN(Number(s))?f.amount="Amount must be a number":(n=new h.a(s)).lte("0")?f.amount="Amount cannot be 0":n.multipliedBy(a).lt(u.minOrderSize)&&(f.amount="total sale price too small"):f.amount="Amount required"),!f.amount&&!f.price&&o&&i)if(r=new h.a(o),"buy"===l){var p=ce(d,u.quoteTokenDecimals);r.gt(p)&&(f.amount="Insufficient ".concat(u.quoteToken," balance"))}else{var b=ce(m,u.baseTokenDecimals);n.gt(b)?f.amount="Insufficient ".concat(u.baseToken," balance"):r.lte("0")&&(f.amount="Amount too small: total sale price less than fee")}return f},shouldError:function(){return!0}})(we)),Ne=(a(1046),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,a=e.selectedValue,n=e.handleClick;return t?r.a.createElement("div",{className:"selector"},r.a.createElement("ul",{className:"nav nav-tabs"},t.map(function(e){return r.a.createElement("li",{key:e.value,className:"nav-item".concat(a===e.value?" active":""),onClick:function(){return n(e)}},r.a.createElement("div",{className:"text-center"},e.name))}))):null}}]),t}(r.a.PureComponent)),Ae=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.address,a=e.dispatch;t&&a(F())}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.address,n=t.dispatch;a&&a!==e.address&&n(F())}},{key:"render",value:function(){var e=this.props,t=e.dispatch,a=e.tokensInfo,n=e.ethBalance;return r.a.createElement("div",{className:"flex-column"},r.a.createElement("div",{className:"token flex flex-1"},r.a.createElement("div",{className:"col-6"},"ETH"),r.a.createElement("div",{className:"col-6 text-right"},n.toFixed(5))),a.toArray().map(function(e){var a=Object(N.a)(e,2),n=a[0],c=a[1].toJS(),s=c.address,o=c.balance,u=c.allowance,d=c.decimals,m=c.lockedBalance,f=function(e){return e.gt(Math.pow(10,30))}(u),p=ce(v.BigNumber.max(o.minus(m),"0"),d).toFixed(5),b="<div>In-Order: ".concat(ce(m,d).toFixed(5),"</div><div>Total: ").concat(ce(o,d).toFixed(5),"</div>");return r.a.createElement("div",{key:n,className:"token flex flex-1"},r.a.createElement("div",{className:"flex-column col-6"},r.a.createElement("div",null,n),r.a.createElement("div",{className:"text-secondary"},f?"Enabled":"Disabled")),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement("div",{className:"flex-column",key:b,"data-html":"true","data-toggle":"tooltip","data-placement":"right",title:b,ref:function(e){return window.$(e).tooltip()}},p),r.a.createElement("div",{className:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:s,checked:f,onChange:function(){t(f?function(e,t,a){return function(){var n=Object(i.a)(l.a.mark(function n(r,c){var s;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(I(e,t,"0000000000000000000000000000000000000000000000000000000000000000","Disable",a));case 2:return s=n.sent,n.abrupt("return",s);case 4:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()}(s,n,d):function(e,t,a){return function(){var n=Object(i.a)(l.a.mark(function n(r,c){var s;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(I(e,t,"f000000000000000000000000000000000000000000000000000000000000000","Enable",a));case 2:return s=n.sent,n.abrupt("return",s);case 4:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()}(s,n,d))}}),r.a.createElement("label",{className:"custom-control-label",htmlFor:s}))))}))}}]),t}(r.a.PureComponent),Te=Object(b.connect)(function(e){var t=e.WalletReducer.get("selectedAccountID"),a=Object(T.getSelectedAccount)(e),n=a?a.get("address"):null;return{tokensInfo:Oe.getTokensInfo(e,n),address:n,ethBalance:ce(e.WalletReducer.getIn(["accounts",t,"balance"]),18)}})(Ae),De=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={amount:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.type!==e.type&&this.setState({amount:""})}},{key:"render",value:function(){var e=this,t=this.props,a=t.ethBalance,n=t.wethBalance,c=t.type,s=this.state.amount,o="wrap"===c;return r.a.createElement("form",{className:"form flex-column text-secondary flex-1 justify-content-between block"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-secondary"},"Amount (",o?a.toFixed(8):n.toFixed(8)," Max)"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{className:"form-control",value:s,onChange:function(t){return e.setState({amount:t.target.value})}}))),r.a.createElement("button",{type:"button",className:"form-control btn ".concat(o?"btn-success":"btn-danger"),onClick:function(){return e.submit()}},c))}},{key:"submit",value:function(){var e=this.props,t=e.dispatch,a=e.type,n=this.state.amount;t("wrap"===a?function(e){return function(){var t=Object(i.a)(l.a.mark(function t(a,n){var r,c,s,o,u,d;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.config.get("WETH"),s=new h.a(e).multipliedBy(Math.pow(10,c.decimals)).toString(),o={to:c.address,data:"0xd0e30db0",value:s},t.prev=4,u=Object(T.getSelectedAccountWallet)(r),t.next=8,u.sendTransaction(o);case 8:return d=t.sent,alert("Wrap ETH request submitted"),S(d,function(){var e=Object(i.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t?(a(L(c.address,c.symbol,c.decimals)),alert("Wrap ETH Successfully")):alert("Wrap ETH Failed");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),t.abrupt("return",d);case 14:t.prev=14,t.t0=t.catch(4),alert(t.t0);case 17:return t.abrupt("return",null);case 18:case"end":return t.stop()}},t,null,[[4,14]])}));return function(e,a){return t.apply(this,arguments)}}()}(n):function(e){return function(){var t=Object(i.a)(l.a.mark(function t(a,n){var r,c,s,o,u,d,m;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.config.get("WETH"),s=new h.a(e).multipliedBy(Math.pow(10,c.decimals)).toString(16),o=Object(T.getSelectedAccountWallet)(r),u=R(s),d={to:c.address,data:"0x".concat("2e1a7d4d").concat(u),value:0},t.prev=7,t.next=10,o.sendTransaction(d);case 10:return m=t.sent,alert("Unwrap WETH request submitted"),S(m,function(){var e=Object(i.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t?(a(L(c.address,c.symbol,c.decimals)),alert("Wrap ETH Successfully")):alert("Wrap ETH Failed");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),t.abrupt("return",m);case 16:t.prev=16,t.t0=t.catch(7),alert(t.t0);case 19:return t.abrupt("return",null);case 20:case"end":return t.stop()}},t,null,[[7,16]])}));return function(e,a){return t.apply(this,arguments)}}()}(n))}}]),t}(r.a.PureComponent),je=Object(b.connect)(function(e){var t=e.config.get("WETH"),a=Object(T.getSelectedAccount)(e),n=a?a.get("balance"):new h.a("0"),r=a?a.get("address"):null,c=Oe.getTokenAvailableBalance(e,r,"WETH");return{ethBalance:ce(n,18),wethBalance:ce(c,t.decimals)}})(De),Ie=(a(1047),[{value:"tokens",name:"Tokens"},{value:"wrap",name:"Wrap"},{value:"unwrap",name:"Unwrap"}]),Se=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={selectedAccountID:Ie[0].value},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.selectedAccountID;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title flex justify-content-between align-items-center"},r.a.createElement("div",null,"Wallet"),r.a.createElement(Ne,{options:Ie,selectedValue:t,handleClick:function(t){e.setState({selectedAccountID:t.value})}})),r.a.createElement("div",{className:"flex-column flex-1 position-relative overflow-hidden",ref:function(t){return e.setRef(t)}},this.renderTabPanel()))}},{key:"renderTabPanel",value:function(){switch(this.state.selectedAccountID){case"tokens":return r.a.createElement(Te,null);case"wrap":return r.a.createElement(je,{type:"wrap"});case"unwrap":return r.a.createElement(je,{type:"unwrap"});default:return r.a.createElement(Te,null)}}},{key:"setRef",value:function(e){e&&(this.ps=new Ee.default(e,{suppressScrollX:!0,maxScrollbarLength:20}))}}]),t}(r.a.PureComponent),Re=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isLoggedIn,a=e.dispatch;t&&a(B())}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isLoggedIn,n=t.dispatch,r=t.orders,c=t.currentMarket;!a||a===e.isLoggedIn&&c===e.currentMarket||n(B()),r!==e.orders&&this.ps&&this.ps.update()}},{key:"render",value:function(){var e=this,t=this.props,a=t.orders,n=t.dispatch,c=t.currentMarket;return r.a.createElement("div",{className:"orders flex-1 position-relative overflow-hidden",ref:function(t){return e.setRef(t)}},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-secondary"},r.a.createElement("th",{className:"pair-column"},"Pair"),r.a.createElement("th",null,"Side"),r.a.createElement("th",{className:"text-right"},"Price"),r.a.createElement("th",{className:"text-right"},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.toArray().reverse().map(function(e){var t=Object(N.a)(e,2),a=t[0],s=t[1];if(s.availableAmount.eq(0))return null;var o=s.marketID.split("-")[0];return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"pair-column"},s.marketID),r.a.createElement("td",{className:"sell"===s.side?"text-danger":"text-success"},s.side),r.a.createElement("td",{className:"text-right"},s.price.toFixed(c.priceDecimals)),r.a.createElement("td",{className:"text-right"},s.availableAmount.toFixed(c.amountDecimals)," ",o),r.a.createElement("td",{className:"text-right"},r.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){return n((e=s.id,function(){var t=Object(i.a)(l.a.mark(function t(a,n){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.delete("/orders/".concat(e));case 2:0===(r=t.sent).data.status?(alert("Successfully cancelled order"),a({type:"CANCEL_ORDER",payload:{id:e}})):alert(r.data.desc);case 4:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()));var e}},"Cancel")))}))))}},{key:"setRef",value:function(e){e&&(this.ps=new Ee.default(e,{suppressScrollX:!0,maxScrollbarLength:20}))}}]),t}(r.a.PureComponent),_e=Object(b.connect)(function(e){var t=Object(T.getSelectedAccount)(e),a=t?t.get("address"):null;return{orders:e.account.get("orders"),isLoggedIn:e.account.getIn(["isLoggedIn",a]),currentMarket:e.market.getIn(["markets","currentMarket"])}})(Re),Me=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isLoggedIn,a=e.dispatch;t&&a(U())}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isLoggedIn,n=t.dispatch,r=t.trades,c=t.currentMarket;!a||a===e.isLoggedIn&&c===e.currentMarket||n(U()),r!==e.trades&&this.ps&&this.ps.update()}},{key:"render",value:function(){var e=this,t=this.props,a=t.trades,n=t.address,c=t.currentMarket;return r.a.createElement("div",{className:"trades flex-1 position-relative overflow-hidden",ref:function(t){return e.setRef(t)}},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-secondary"},r.a.createElement("th",{className:"pair-column"},"Pair"),r.a.createElement("th",null,"Side"),r.a.createElement("th",{className:"text-right"},"Price"),r.a.createElement("th",{className:"text-right"},"Amount"),r.a.createElement("th",{className:"text-right"},"Status"))),r.a.createElement("tbody",null,a.toArray().reverse().map(function(e){var t,a,s=Object(N.a)(e,2),o=s[0],l=s[1];t=l.taker===n?l.takerSide:"buy"===l.takerSide?"sell":"buy";var i="text-right ";"successful"===l.status?(a=r.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),i+="text-success"):"pending"===l.status?a=r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin","aria-hidden":"true"}):(i+="text-danger",a=r.a.createElement("i",{className:"fa fa-close","aria-hidden":"true"}));var u=l.marketID.split("-")[0];return r.a.createElement("tr",{key:o},r.a.createElement("td",{className:"pair-column"},l.marketID),r.a.createElement("td",{className:"".concat("sell"===t?"text-danger":"text-success")},t),r.a.createElement("td",{className:"text-right".concat("sell"===t?" text-danger":" text-success")},new h.a(l.price).toFixed(c.priceDecimals)),r.a.createElement("td",{className:"text-right"},new h.a(l.amount).toFixed(c.amountDecimals)," ",u),r.a.createElement("td",{className:i},a))}))))}},{key:"setRef",value:function(e){e&&(this.ps=new Ee.default(e,{suppressScrollX:!0,maxScrollbarLength:20}))}}]),t}(r.a.PureComponent),Ce=Object(b.connect)(function(e){var t=Object(T.getSelectedAccount)(e),a=t?t.get("address"):null;return{address:a,trades:e.account.get("trades"),isLoggedIn:e.account.getIn(["isLoggedIn",a]),currentMarket:e.market.getIn(["markets","currentMarket"])}})(Me),Pe=(a(1048),[{value:"openOrders",name:"Open"},{value:"filled",name:"Filled"}]),Fe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={selectedAccountID:Pe[0].value},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.selectedAccountID;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title flex justify-content-between align-items-center"},r.a.createElement("div",null,r.a.createElement("div",null,"Orders"),r.a.createElement("div",{className:"text-secondary"},"View your open orders")),r.a.createElement(Ne,{options:Pe,selectedValue:t,handleClick:function(t){e.setState({selectedAccountID:t.value})}})),"openOrders"===t?r.a.createElement(_e,null):r.a.createElement(Ce,null))}}]),t}(r.a.PureComponent),Le=a(185),We=a(320),Be=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).tradeChartWrapper=r.a.createRef(),a.state={granularityStr:window.localStorage.getItem("granularityStr")||"1d",loading:!1,noData:!1,data:[],from:null,to:null,start:null,end:null,lastUpdatedAt:(new Date).getTime()},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadData(),this.interval=window.setInterval(function(){return e.loadRight()},6e4)}},{key:"componentDidUpdate",value:function(e){e.currentMarket.id!==this.props.currentMarket.id&&(this.setState({from:null,to:null,data:[],noData:!1}),this.loadData())}},{key:"componentWillUnmount",value:function(){this.interval&&window.clearInterval(this.interval)}},{key:"loadRight",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.length>0&&void 0!==t[0]?t[0]:null,(new Date).getTime()-this.state.lastUpdatedAt>59e3&&this.loadData(this.state.granularityStr,this.state.to);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadLeft",value:function(){var e=Object(i.a)(l.a.mark(function e(t,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData(this.state.granularityStr,null,this.state.from,t,a);case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t,a,n,r,c,s,o,i,u,d,m,f=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:null,a=f.length>1&&void 0!==f[1]?f[1]:null,n=f.length>2&&void 0!==f[2]?f[2]:null,r=f.length>3&&void 0!==f[3]?f[3]:null,c=f.length>4&&void 0!==f[4]?f[4]:null,s=this.state.granularityStr===t,!(this.state.loading||s&&this.state.noData)){e.next=8;break}return e.abrupt("return");case 8:return!s&&this.state.noData&&this.setState({noData:!1}),this.setState({loading:!0}),o=this.generateParams(t||this.state.granularityStr,a,n),t&&this.setState({granularityStr:t}),e.prev=12,e.next=15,Y.get("/markets/".concat(this.props.currentMarket.id,"/candles?from=").concat(o.from,"&to=").concat(o.to,"&granularity=").concat(o.granularityNum));case 15:if(!(i=e.sent).data.data.meta||!i.data.data.meta.noData){e.next=19;break}return this.setState({loading:!1,noData:!0}),e.abrupt("return");case 19:e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(12),this.setState({loading:!1}),e.abrupt("return");case 25:for(u=i.data.data.candles,d=0;d<u.length;d++)10==="".concat(u[d].time).length&&(u[d].time=1e3*u[d].time);m={data:u,from:o.from,to:o.to,start:null,end:null,lastUpdatedAt:(new Date).getTime()},s&&(this.state.from&&this.state.from>o.from&&(m.to=this.state.to,m.data=[].concat(Object(Le.a)(u),Object(Le.a)(this.state.data)),m.start=r+u.length,m.end=c+u.length>r+u.length+this.fitLengthToShow()?c+u.length:r+u.length+this.fitLengthToShow()),this.state.to&&this.state.to<o.to&&(m.from=this.state.from,m.data=[].concat(Object(Le.a)(this.state.data),Object(Le.a)(u)))),this.setState(m),this.setState({loading:!1});case 31:case"end":return e.stop()}},e,this,[[12,21]])}));return function(){return e.apply(this,arguments)}}()},{key:"fitLengthToShow",value:function(){var e=this.tradeChartWrapper.current.offsetWidth;return Math.ceil((e-50)/18)}},{key:"generateParams",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(n=n||Math.floor((new Date).getTime()/1e3),e){case"5m":t=300,a=a||n-2628e3;break;case"1h":t=3600,a=a||n-31536e3;break;case"1d":default:t=86400,a=a||n-31536e3}return{from:a,to:n,granularityNum:t}}},{key:"handleLoadMore",value:function(e,t){(e=Math.ceil(e))!==t&&this.loadLeft(e,t)}},{key:"render",value:function(){var e=this,t=this.props.bids.toArray().map(function(e){return{price:e[0].toString(),amount:e[1].toString()}}),a=this.props.asks.toArray().map(function(e){return{price:e[0].toString(),amount:e[1].toString()}});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title flex justify-content-between align-items-center"},r.a.createElement("div",null,r.a.createElement("div",null,"Charts"))),r.a.createElement("div",{className:"flex-column flex-1 "},r.a.createElement("div",{className:"grid flex-2",ref:this.tradeChartWrapper},r.a.createElement(We.b,{theme:"light",data:this.state.data,priceDecimals:5,styles:{upColor:"#00d99f",downColor:"#ff6f75",background:"#FFFFFF"},clickCallback:function(e){console.log("result: ",e)},handleLoadMore:function(t){e.handleLoadMore(t.start,t.end)},clickGranularity:function(t){e.loadData(t.value),window.localStorage.setItem("granularityStr",t.value)},start:this.state.start,end:this.state.end})),r.a.createElement("div",{className:"grid flex-1 border-top"},r.a.createElement(We.a,{baseToken:"HOT",quoteToken:"DAI",styles:{bidColor:"#00d99f",askColor:"#ff6f75",rowBackgroundColor:"#FFFFFF"},asks:a,bids:t,priceDecimals:5,theme:"light",clickCallback:function(e){console.log("result: ",e)}}))))}}]),t}(r.a.Component),Ue=Object(b.connect)(function(e){return{asks:e.market.getIn(["orderbook","asks"]),bids:e.market.getIn(["orderbook","bids"]),currentMarket:e.market.getIn(["markets","currentMarket"])}})(Be),He=a(497),qe=a.n(He),Ke=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.tradeHistory!==e.tradeHistory&&this.ps.update()}},{key:"render",value:function(){var e=this,t=this.props,a=t.tradeHistory,n=t.currentMarket;return r.a.createElement("div",{className:"trade-history flex-1 position-relative overflow-hidden",ref:function(t){return e.setRef(t)}},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-secondary"},r.a.createElement("th",{className:"text-right"},"Price"),r.a.createElement("th",{className:"text-right"},"Amount"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,a.toArray().reverse().map(function(e){var t=Object(N.a)(e,2),a=(t[0],t[1]),c="buy"===a.takerSide;return r.a.createElement("tr",{key:a.id},r.a.createElement("td",{className:["text-right",c?"text-success":"text-danger"].join(" ")},new h.a(a.price).toFixed(n.priceDecimals),"buy"===a.takerSide?r.a.createElement("i",{className:"fa fa-arrow-up","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-arrow-down","aria-hidden":"true"})),r.a.createElement("td",{className:"text-right"},new h.a(a.amount).toFixed(n.amountDecimals)),r.a.createElement("td",{className:"text-secondary"},qe()(a.executedAt).format("HH:mm:ss")))}))))}},{key:"setRef",value:function(e){e&&(this.ps=new Ee.default(e,{suppressScrollX:!0,maxScrollbarLength:20}))}}]),t}(r.a.PureComponent),Ye=Object(b.connect)(function(e){return{tradeHistory:e.market.get("tradeHistory"),currentMarket:e.market.getIn(["markets","currentMarket"])}})(Ke),Xe=a(61),Je=a(60),Ge=a(184),Ve=a.n(Ge),Qe=(a(1160),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).ref=function(e){e&&(a.container=e,setTimeout(function(){a.mounted&&a.setState({underlineClassName:"underline transition"})},300))},a.state={underlineClassName:"underline"},a.mounted=!1,a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("load",function(){e.forceUpdate()}),this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){for(var e,t,a=this.props,n=a.options,c=a.selectedIndex,s=[],o=0;o<n.length;o++){var l=n[o];s.push(r.a.createElement("div",{key:l.title,className:"item".concat(o===c?" active":""),onClick:l.onClick},l.title,this.container||o!==c?null:r.a.createElement("div",{className:"defaultUnderline"})))}if(this.container){var i=this.container.children[c];e=i.offsetLeft,t=i.offsetWidth}else e=0,t=0;var u=r.a.createElement("div",{style:{left:e,width:t},className:this.state.underlineClassName});return r.a.createElement("div",{className:"underlineTabContainer",ref:this.ref},s,u)}}]),t}(r.a.PureComponent)),ze=(a(1161),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={selectedIndex:0},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props.children,a=t[this.state.selectedIndex],n=[],c=function(a){var r=t[a];n.push({title:r.props["data-fold-item-title"],onClick:function(){e.setState({selectedIndex:a})}})},s=0;s<t.length;s++)c(s);return r.a.createElement("div",{className:[this.props.className,"fold"].join(" ")},r.a.createElement("div",{className:"flod-header"},r.a.createElement("span",null,this.props.title),r.a.createElement(Qe,{options:n,selectedIndex:this.state.selectedIndex})),a)}}]),t}(r.a.PureComponent)),$e=(a(1162),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(f.a)(t).call(this))).state={mobileTab:"trade"},e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.currentMarket;t(function(){var e=Object(i.a)(l.a.mark(function e(t,a){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("/markets");case 2:if(0!==(n=e.sent).data.status){e.next=7;break}return(r=n.data.data.markets).forEach(J),e.abrupt("return",t({type:"LOAD_MARKETS",payload:{markets:r}}));case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()),66===parseInt(y.NETWORK_ID)&&this.initTestBrowserWallet(),a&&t(X(a.id))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.currentMarket,n=t.dispatch;a!==e.currentMarket&&n(X(a.id))}},{key:"initTestBrowserWallet",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Xe.HydroWallet.setNodeUrl(y.NODE_URL),e.next=3,Xe.HydroWallet.import("B7A0C9D2786FC4DD080EA5D619D36771AEB0C8C26C290AFD3451B92BA2B7BC2C","123456");case 3:t=e.sent,this.props.dispatch(Object(Je.watchWallet)(t));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.currentMarket,a=e.networkId,n=e.selectedAccountID;return t?r.a.createElement("div",{className:"app"},r.a.createElement(T.Wallet,{title:"Starter Kit Wallet",nodeUrl:y.NODE_URL,defaultWalletType:"Hydro-Wallet"}),r.a.createElement(oe,null),r.a.createElement(V,null),"EXTENSION"===n&&parseInt(a,10)!==parseInt(y.NETWORK_ID,10)&&r.a.createElement("span",{className:"network-warning bg-warning text-white text-center",style:{padding:4}},"Network Error: Switch Metamask's network to ",this.getNetworkName(),"."),r.a.createElement(Ve.a,{minWidth:1366},this.renderDesktop()),r.a.createElement(Ve.a,{minWidth:1024,maxWidth:1365},this.renderLaptop()),r.a.createElement(Ve.a,{minWidth:768,maxWidth:1023},this.renderTablet()),r.a.createElement(Ve.a,{maxWidth:767},this.renderMobile())):null}},{key:"setRef",value:function(e){e&&(this.ps=new Ee.default(e,{suppressScrollY:!0,maxScrollbarLength:20}))}},{key:"getNetworkName",value:function(){switch(parseInt(y.NETWORK_ID,10)){case 1:return"Mainnet";case 3:return"Ropsten";case 4:return"Rinkeby";case 66:return"localhost:8545";default:return"id: "+y.NETWORK_ID}}},{key:"renderMobile",value:function(){var e,t=this,a=this.state.mobileTab;return"trade"!==a&&a?"orders"===a?e=r.a.createElement(Fe,null):"charts"===a?e=r.a.createElement(Ue,null):"orderbook"===a?e=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title"},r.a.createElement("div",null,r.a.createElement("div",null,"Orderbook"),r.a.createElement("div",{className:"text-secondary"},"Available Bid and Ask orders"))),r.a.createElement(ie,null)):"history"===a?e=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title flex align-items-center"},r.a.createElement("div",null,"Trade History")),r.a.createElement(Ye,null)):"wallet"===a&&(e=r.a.createElement(Se,null)):e=r.a.createElement(xe,null),r.a.createElement("div",{className:"flex-column flex-1 overflow-hidden"},r.a.createElement("div",{className:"flex-column flex-1"},e),r.a.createElement("div",{className:"flex nav-tabs overflow-hidden position-relative",ref:function(e){return t.setRef(e)}},r.a.createElement("div",{className:"nav-item flex-1 border-top d-inline-block"},r.a.createElement("div",{onClick:function(){return t.setState({mobileTab:"trade"})},className:"tab-button text-secondary text-center".concat("trade"===a?" active":"")},"Trade")),r.a.createElement("div",{className:"nav-item flex-1 border-top d-inline-block"},r.a.createElement("div",{onClick:function(){return t.setState({mobileTab:"orders"})},className:"tab-button text-secondary text-center".concat("orders"===a?" active":"")},"Orders")),r.a.createElement("div",{className:"nav-item flex-1 border-top d-inline-block"},r.a.createElement("div",{onClick:function(){return t.setState({mobileTab:"charts"})},className:"tab-button text-secondary text-center".concat("charts"===a?" active":"")},"Charts")),r.a.createElement("div",{className:"nav-item flex-1 border-top d-inline-block"},r.a.createElement("div",{onClick:function(){return t.setState({mobileTab:"orderbook"})},className:"tab-button text-secondary text-center".concat("orderbook"===a?" active":"")},"Orderbook")),r.a.createElement("div",{className:"nav-item flex-1 border-top d-inline-block"},r.a.createElement("div",{onClick:function(){return t.setState({mobileTab:"history"})},className:"tab-button text-secondary text-center".concat("history"===a?" active":"")},"History")),r.a.createElement("div",{className:"nav-item flex-1 border-top d-inline-block"},r.a.createElement("div",{onClick:function(){return t.setState({mobileTab:"wallet"})},className:"tab-button text-secondary text-center".concat("wallet"===a?" active":"")},"Wallet"))))}},{key:"renderTablet",value:function(){return r.a.createElement("div",{className:"flex flex-1 overflow-hidden"},r.a.createElement("div",{className:"flex-column border-right"},r.a.createElement("div",{className:"grid flex-1"},r.a.createElement(xe,null))),r.a.createElement("div",{className:"flex-column"},r.a.createElement("div",{className:"flex-column flex-1"},r.a.createElement("div",{className:"grid flex-1"},r.a.createElement(Ue,null)),r.a.createElement(ze,{className:"border-top flex-1 flex-column"},r.a.createElement("div",{className:"","data-fold-item-title":"Orderbook"},r.a.createElement(ie,null)),r.a.createElement("div",{className:"","data-fold-item-title":"Trade History"},r.a.createElement(Ye,null)),r.a.createElement("div",{className:"","data-fold-item-title":"Wallet"},r.a.createElement(Se,null)),r.a.createElement("div",{className:"","data-fold-item-title":"Orders"},r.a.createElement(Fe,null))))))}},{key:"renderLaptop",value:function(){return r.a.createElement("div",{className:"flex flex-1 overflow-hidden"},r.a.createElement("div",{className:"flex-column border-right"},r.a.createElement("div",{className:"grid flex-1"},r.a.createElement(xe,null))),r.a.createElement(ze,{className:"grid border-right flex-column"},r.a.createElement("div",{className:"grid flex-column","data-fold-item-title":"Orderbook"},r.a.createElement(ie,null)),r.a.createElement("div",{className:"grid flex-column","data-fold-item-title":"Trade History"},r.a.createElement(Ye,null)),r.a.createElement("div",{className:"grid flex-column","data-fold-item-title":"Wallet"},r.a.createElement(Se,null))),r.a.createElement("div",{className:"flex-column flex-1"},r.a.createElement("div",{className:"grid flex-2"},r.a.createElement(Ue,null)),r.a.createElement("div",{className:"grid flex-1 border-top"},r.a.createElement(Fe,null))))}},{key:"renderDesktop",value:function(){return r.a.createElement("div",{className:"flex flex-1 overflow-hidden"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex-column flex-1 border-right"},r.a.createElement("div",{className:"grid flex-1"},r.a.createElement(xe,null))),r.a.createElement("div",{className:"grid border-right flex-column"},r.a.createElement("div",{className:"title"},r.a.createElement("div",null,r.a.createElement("div",null,"Orderbook"),r.a.createElement("div",{className:"text-secondary"},"Available Bid and Ask orders"))),r.a.createElement(ie,null))),r.a.createElement("div",{className:"flex-column flex-1 border-right"},r.a.createElement("div",{className:"grid flex-2"},r.a.createElement(Ue,null)),r.a.createElement("div",{className:"grid flex-1 border-top"},r.a.createElement(Fe,null))),r.a.createElement("div",{className:"flex-column"},r.a.createElement("div",{className:"grid flex-1"},r.a.createElement("div",{className:"title flex align-items-center"},r.a.createElement("div",null,"Trade History")),r.a.createElement(Ye,null)),r.a.createElement("div",{className:"grid flex-1 border-top"},r.a.createElement(Se,null))))}}]),t}(r.a.PureComponent)),Ze=Object(b.connect)(function(e){var t=e.WalletReducer.get("selectedAccountID");return{selectedAccountID:t,currentMarket:e.market.getIn(["markets","currentMarket"]),networkId:e.WalletReducer.getIn(["accounts",t,"networkId"])}})($e);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var et=a(36),tt=a(498),at=a(490),nt=Object(ye.b)({bids:Object(ye.a)(),asks:Object(ye.a)()}),rt=Object(ye.b)({marketStatus:Object(ye.b)({loaded:!1,loading:!0,data:Object(ye.a)()}),markets:Object(ye.b)({loaded:!1,loading:!0,data:Object(ye.a)(),currentMarket:null,onlyMarket:null,baseToken:"ALL",searchTerm:""}),orderbook:nt,tickers:Object(ye.b)({loading:!1,data:{}}),isAllTradesLoading:!0,tradeHistory:Object(ye.a)(),tokenPrices:Object(ye.b)({loading:!0,data:{}})}),ct=function(e,t){return e[0].gt(t[0])?-1:e[0].eq(t[0])?0:1},st=Object(ye.b)({isLoggedIn:Object(ye.b)(),tokensInfo:Object(ye.b)(),approving:Object(ye.b)(),orders:Object(ye.c)(),trades:Object(ye.c)(),transactions:Object(ye.c)()}),ot=Object(ye.b)({balance:new v.BigNumber("0"),allowance:new v.BigNumber("0"),address:"",decimals:0,lockedBalance:new v.BigNumber("0")}),lt=Object(ye.b)({WETH:{address:y.WETH_TOKEN_ADDRESS,symbol:"WETH",decimals:18},hotTokenAmount:new h.a(0),websocketConnected:!1}),it=Object(et.c)({market:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_MARKETS":return(e=e.setIn(["markets","data"],Object(ye.a)(t.payload.markets))).getIn(["markets","currentMarket"])||(e=e.setIn(["markets","currentMarket"],t.payload.markets[0])),e;case"UPDATE_CURRENT_MARKET":var a=t.payload.currentMarket,n=a.asTakerFeeRate,r=a.asMakerFeeRate,c=a.gasFeeAmount;return e=(e=(e=(e=e.setIn(["markets","currentMarket"],a)).setIn(["markets","currentMarketFees"],{asTakerFeeRate:n,asMakerFeeRate:r,gasFeeAmount:c})).set("orderbook",nt)).set("tradeHistory",Object(ye.c)());case"LOAD_TRADE_HISTORY":return e=e.set("tradeHistory",Object(ye.c)()),t.payload.reverse().forEach(function(t){e=e.setIn(["tradeHistory",t.id],t)}),e;case"MARKET_TRADE":var s=t.payload.trade;return e=e.setIn(["tradeHistory",s.id],s);case"INIT_ORDERBOOK":return e=(e=e.setIn(["orderbook","bids"],Object(ye.a)(t.payload.bids).sort(ct))).setIn(["orderbook","asks"],Object(ye.a)(t.payload.asks).sort(ct));case"UPDATE_ORDERBOOK":var o="buy"===t.payload.side?"bids":"asks",l=t.payload,i=l.price,u=l.amount,d=e.getIn(["orderbook",o]).findIndex(function(e){return e[0].eq(i)});return d>=0?e=u.lte("0")?e.deleteIn(["orderbook",o,d]):e.updateIn(["orderbook",o,d],function(e){return[e[0],u]}):u.gt("0")&&(e=e.updateIn(["orderbook",o],function(e){return e.push([i,u])})),e=e.setIn(["orderbook",o],e.getIn(["orderbook",o]).sort(ct));default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TOKEN_LOCKED_BALANCES":for(var a=t.payload,n=a.lockedBalances,r=a.accountAddress,c=0,s=Object.keys(n);c<s.length;c++){var o=s[c],l=e.getIn(["tokensInfo",r,o]);l||(l=ot),l=l.set("lockedBalance",n[o]),e=e.setIn(["tokensInfo",r,o],l)}return e;case"LOGIN":return e=e.setIn(["isLoggedIn",t.payload.address],!0);case"LOGOUT":return e=e.setIn(["isLoggedIn",t.payload.address],!1);case"LOAD_ORDERS":return e=e.set("orders",Object(ye.c)()),t.payload.orders.reverse().forEach(function(t){e=e.setIn(["orders",t.id],t)}),e;case"ORDER_UPDATE":var i=t.payload.order,u=["orders",i.id];return e.getIn(u)?e="pending"!==i.status?e.deleteIn(u):e.setIn(u,i):"pending"===i.status&&(e=e.setIn(u,i)),e;case"CANCEL_ORDER":return e=e.deleteIn(["orders",t.payload.id]);case"LOAD_TRADES":return e=e.set("trades",Object(ye.c)()),t.payload.trades.reverse().forEach(function(t){e=e.setIn(["trades",t.id],t)}),e;case"TRADE_UPDATE":var d=t.payload.trade;return e=e.setIn(["trades",d.id],d);case"UPDATE_TOKEN_INFO":var m=t.payload,f=m.symbol,p=m.balance,b=m.allowance,v=m.decimals,h=m.tokenAddress,k=m.accountAddress,g=e.getIn(["tokensInfo",k,f]);return g||(g=ot),g=(g=(g=g.set("allowance",b)).set("balance",p)).set("address",h),v&&(g=g.set("decimals",v)),e=e.setIn(["tokensInfo",k,f],g);default:return e}},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONFIGS":for(var a=0,n=Object.keys(t.payload);a<n.length;a++){var r=n[a];e=e.set(r,t.payload[r])}return e;default:return e}},form:at.a?at.a:{},WalletReducer:T.WalletReducer});a.d(t,"store",function(){return ut}),h.a.config({EXPONENTIAL_AT:1e3});var ut=Object(et.d)(it,Object(et.a)(tt.a));s.a.render(r.a.createElement(b.Provider,{store:ut},r.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},527:function(e,t,a){e.exports=a(1163)},532:function(e,t,a){},560:function(e,t){},563:function(e,t){},587:function(e,t){},589:function(e,t){},605:function(e,t){},607:function(e,t){},616:function(e,t){},618:function(e,t){},648:function(e,t){},659:function(e,t){},833:function(e,t){},946:function(e,t,a){},947:function(e,t,a){},948:function(e,t,a){}},[[527,1,2]]]);
//# sourceMappingURL=main.af880bfb.chunk.js.map